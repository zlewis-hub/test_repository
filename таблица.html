<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–¢–∞–±–ª–∏—Ü–∞ –ø–æ–≥–æ–¥—ã –Ω–∞ 7 –¥–Ω–µ–π</title>
<style>
  table {
    border-collapse: collapse;
    width: 90%;
    margin: 20px auto;
    text-align: center;
    font-family: Arial, sans-serif;
    font-size: 14px;
  }
  th, td {
    border: 1px solid #333;
    padding: 8px;
  }
  th {
    background-color: #f2f2f2;
  }
  .forecast {
    background-color: #ADD8E6; /* —Å–≤–µ—Ç–ª–æ-—Å–∏–Ω–∏–π –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–Ω—ã—Ö –¥–Ω–µ–π */
  }
  caption {
    caption-side: top;
    font-size: 18px;
    font-weight: bold;
    padding: 10px;
  }
</style>
</head>
<body>

<table id="weatherTable">
  <caption>–¢–∞–±–ª–∏—Ü–∞ –ø–æ–≥–æ–¥—ã –Ω–∞ 7 –¥–Ω–µ–π (–ø—Ä–æ–≥–Ω–æ–∑ –≤—ã–¥–µ–ª–µ–Ω —Å–∏–Ω–∏–º)</caption>
  <thead>
    <tr>
      <th>–ü–∞—Ä–∞–º–µ—Ç—Ä</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
    </tr>
  </thead>
  <tbody>
    <tr id="temperatureRow"><td>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</td></tr>
    <tr id="humidityRow"><td>–í–ª–∞–∂–Ω–æ—Å—Ç—å</td></tr>
    <tr id="windRow"><td>–í–µ—Ç–µ—Ä</td></tr>
    <tr id="pressureRow"><td>–î–∞–≤–ª–µ–Ω–∏–µ</td></tr>
    <tr id="cloudRow"><td>–û–±–ª–∞—á–Ω–æ—Å—Ç—å</td></tr>
  </tbody>
</table>

<script>
// üîπ –í–≤–æ–¥–∏–º –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–µ—Ä–≤—ã—Ö 4 –¥–Ω–µ–π
let dataInput = {
  "temperature": ["20¬∞C", "21¬∞C", "22¬∞C", "19¬∞C"],
  "humidity": ["60%", "58%", "55%", "70%"],
  "wind": ["3 –º/—Å", "5 –º/—Å", "2 –º/—Å", "4 –º/—Å"],
  "pressure": ["1015", "1013", "1010", "1012"],
  "cloud": ["20%", "40%", "60%", "30%"]
};

// üîπ –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 3 –¥–Ω–µ–π —Å —É—á–µ—Ç–æ–º —Ç—Ä–µ–Ω–¥–∞
function extendDataTrend(arr, type) {
  let numeric = arr.map(val => parseInt(val.replace("¬∞C","").replace("%","").replace(" –º/—Å","")));
  for (let i = 4; i < 7; i++) {
    let nextVal;
    if (type === "temperature" || type === "pressure") {
      // –ª–∏–Ω–µ–π–Ω—ã–π —Ç—Ä–µ–Ω–¥: —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É 1 –∏ 4 –¥–Ω—è–º–∏
      let a = (numeric[3] - numeric[0]) / 3;
      nextVal = Math.round(numeric[3] + a + (Math.random()*2-1)); // –Ω–µ–±–æ–ª—å—à–æ–π —à—É–º
    } else if (type === "humidity" || type === "cloud" || type === "wind") {
      let avg = numeric.slice(-4).reduce((sum,val)=>sum+val,0)/4;
      nextVal = Math.round(avg + (Math.random()*6-3));
      if (type === "humidity" || type === "cloud") nextVal = Math.max(0, Math.min(100,nextVal));
      if (type === "wind") nextVal = Math.max(0,nextVal);
    }
    numeric.push(nextVal);
  }
  // —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –æ–±—Ä–∞—Ç–Ω–æ
  return numeric.map(val => {
    if (type === "temperature") return val+"¬∞C";
    if (type === "humidity" || type === "cloud") return val+"%";
    if (type === "wind") return val+" –º/—Å";
    if (type === "pressure") return val.toString();
  });
}

// üîπ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
let data = {
  temperature: extendDataTrend(dataInput.temperature, "temperature"),
  humidity: extendDataTrend(dataInput.humidity, "humidity"),
  wind: extendDataTrend(dataInput.wind, "wind"),
  pressure: extendDataTrend(dataInput.pressure, "pressure"),
  cloud: extendDataTrend(dataInput.cloud, "cloud")
};

// üîπ –ó–∞–ø–æ–ª–Ω—è–µ–º —Ç–∞–±–ª–∏—Ü—É
function fillRow(rowId, values) {
  let row = document.getElementById(rowId);
  values.forEach((val, idx) => {
    let td = document.createElement("td");
    td.textContent = val;
    if (idx >= 4) td.classList.add("forecast"); // –ø—Ä–æ–≥–Ω–æ–∑–Ω—ã–µ –¥–Ω–∏ —Å–∏–Ω–∏–º
    row.appendChild(td);
  });
}

fillRow("temperatureRow", data.temperature);
fillRow("humidityRow", data.humidity);
fillRow("windRow", data.wind);
fillRow("pressureRow", data.pressure);
fillRow("cloudRow", data.cloud);

</script>
</body>
</html>

